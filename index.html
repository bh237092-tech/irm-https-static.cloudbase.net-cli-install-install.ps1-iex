<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ABOä¿¡æ¯ç´  Â· ç²¾ç¥ä½“æ–°æ˜¾ Â· å‡è¡¡æ¦‚ç‡</title>
    <style>
        /* è‹¹æœé£æ ¼ â€”â€” å¹²å‡€ã€ç•™ç™½ã€æ¸©å’Œ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background: #f5f5f7;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .container {
            max-width: 600px;
            width: 100%;
            background: #ffffff;
            border-radius: 32px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.04), 0 8px 16px rgba(0, 0, 0, 0.02);
            overflow: hidden;
            padding: 32px 24px 36px;
        }

        .landing { text-align: center; padding: 24px 12px 30px; }
        .landing h1 {
            font-size: 2.8rem; font-weight: 500; letter-spacing: -0.015em;
            color: #1d1c1f; margin-bottom: 8px;
        }
        .landing .sub {
            font-size: 1.1rem; color: #86868b; margin-bottom: 36px;
            font-weight: 400; letter-spacing: 0.3px;
        }
        .result-count {
            font-size: 1.2rem; color: #1d1c1f; margin-bottom: 48px; font-weight: 350;
        }
        .result-count .number {
            background: #f0f0f2; padding: 6px 12px; border-radius: 60px; font-weight: 500;
        }
        .enter-btn {
            background: #1d1c1f; color: white; border: none; font-size: 1.6rem;
            padding: 18px 56px; border-radius: 60px; cursor: pointer;
            box-shadow: 0 4px 14px rgba(0,0,0,0.08); transition: background 0.2s;
        }
        .enter-btn:active { background: #2d2c30; transform: scale(0.97); }
        .footer-note { color: #86868b; margin-top: 40px; font-size: 0.9rem; }

        .test-card { padding: 4px 0 20px; }
        .test-header {
            font-size: 1.9rem; font-weight: 350; color: #1d1c1f;
            margin-bottom: 28px; padding-bottom: 12px; border-bottom: 1px solid #e9e9ed;
        }
        .question-item {
            margin-bottom: 32px; opacity: 0; animation: fadeIn 0.4s ease forwards;
            animation-delay: calc(0.05s * var(--q-index));
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(6px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .q-num {
            display: inline-block; background: #f0f0f2; color: #1d1c1f;
            width: 30px; height: 30px; line-height: 30px; text-align: center;
            border-radius: 30px; margin-right: 12px; font-weight: 500;
        }
        .q-text { font-size: 1.1rem; font-weight: 440; color: #1d1c1f; }
        .options { display: flex; flex-direction: column; gap: 12px; margin-top: 18px; }
        .option-btn {
            background: #f8f9fa; border: 1px solid #e0e0e5; padding: 16px 22px;
            border-radius: 18px; font-size: 1rem; color: #1d1c1f; text-align: left;
            cursor: pointer; transition: background 0.15s, border 0.15s;
        }
        .option-btn.selected {
            background: #e9e9ed; border-color: #aeaeb2; font-weight: 440;
        }
        .option-btn:active { background: #e0e0e5; }
        .action-bar { display: flex; justify-content: center; margin: 32px 0 12px; }
        .primary-btn {
            background: #1d1c1f; color: white; border: none; font-size: 1.4rem;
            padding: 18px 48px; border-radius: 60px; cursor: pointer;
            box-shadow: 0 6px 14px rgba(0,0,0,0.06);
        }
        .primary-btn:active { background: #2d2c30; }

        .result-area {
            background: #ffffff; border-radius: 32px; padding: 28px 20px 40px;
            margin-top: 6px; text-align: center;
        }
        .result-icons { font-size: 5rem; line-height: 1.2; margin-bottom: 16px; letter-spacing: 8px; }
        .result-title { font-size: 1.3rem; font-weight: 350; color: #86868b; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }
        .abo-type { font-size: 3.8rem; font-weight: 500; color: #1d1c1f; line-height: 1.1; margin-bottom: 0.6rem; }
        .scent-text {
            font-size: 2.2rem; font-weight: 380; color: #4a4a50; margin: 1.5rem 0 0.5rem;
            background: #f8f9fa; padding: 12px 20px; border-radius: 60px; display: inline-block;
            border: 1px solid #eaeaf0;
        }
        /* ç²¾ç¥ä½“æ ·å¼ï¼šå°ä¸¤å·ï¼Œç²—ä½“ï¼Œæ— èƒŒæ™¯ */
        .spirit-text {
            font-size: 1.4rem;          /* æ¯” scent-text å°ä¸€äº› */
            font-weight: 600;            /* ç²—ä½“ */
            color: #4a4a50;
            margin: 0.25rem 0 1.5rem 0;  /* ä¸Šä¸‹é—´è· */
            letter-spacing: 0.02em;
        }
        .story {
            background: transparent; padding: 28px 8px 20px;
            margin: 36px 0 24px; border-top: 1px solid #e9e9ed; border-bottom: 1px solid #e9e9ed;
            text-align: left; font-size: 1.1rem; color: #2c2c2e; line-height: 1.7;
        }
        .quote {
            font-size: 1rem; color: #5f5f66; margin: 24px 0 28px; padding-left: 20px;
            border-left: 4px solid #c6c6c8; text-align: left; font-style: italic; line-height: 1.6;
        }
        .quote-author { display: block; text-align: right; margin-top: 10px; color: #8a8a90; font-style: normal; }
        .reset-btn {
            background: transparent; color: #1d1c1f; border: 1.5px solid #c6c6c8;
            padding: 16px 40px; border-radius: 60px; font-size: 1.2rem; font-weight: 450;
            cursor: pointer; margin-top: 12px; background: #ffffff;
        }
        .reset-btn:active { background: #f8f9fa; border-color: #9a9aa0; }
        .hidden { display: none !important; }
        .toast-warning {
            background: #ffffff; border-left: 5px solid #ff9f0a; padding: 16px 22px;
            border-radius: 18px; margin-bottom: 28px; border: 1px solid #ffd60a;
            color: #1d1c1f; font-weight: 450; text-align: left;
        }
    </style>
</head>
<body>
<div class="container" id="app">
    <!-- èµ·å§‹é¡µ -->
    <div id="landingPage" class="landing">
        <h1>ABO ä¿¡æ¯ç´ </h1>
        <div class="sub">å¯»æ‰¾ä½ çš„å‘½ä¸­æ³¨å®šçš„å‘³é“</div>
        <div class="result-count"><span class="number">256</span> ç§å¯èƒ½ç»“æœ</div>
        <button class="enter-btn" id="enterTestBtn">å¼€å§‹æµ‹è¯•</button>
        <div class="footer-note">25é“é¢˜ Â· éšæœºä¿¡æ¯ç´ </div>
    </div>

    <!-- æµ‹è¯•é¡µ -->
    <div id="quizCard" class="test-card hidden">
        <div class="test-header">BE YOUR WEIRD SELF</div>
        <div id="questionsContainer"></div>
        <div class="action-bar"><button class="primary-btn" id="submitBtn">æŸ¥çœ‹ç»“æœ</button></div>
    </div>

    <!-- ç»“æœé¡µ (è°ƒæ•´äº†ç»“æ„ï¼šç²¾ç¥ä½“ç‹¬ç«‹äº scent ä¸‹æ–¹) -->
    <div id="resultCard" class="result-area hidden">
        <div class="result-icons" id="resultIcons">ğŸ‘‘ğŸŒ²</div>
        <div class="result-title">ä½ çš„èº«ä»½</div>
        <span class="abo-type" id="aboResult">Alpha</span>
        <span class="scent-text" id="scentResult">æœ¨è´¨ Â· é›ªæ¾</span>
        <!-- ç²¾ç¥ä½“ç‹¬ç«‹è¡Œï¼Œç²—ä½“å°ä¸¤å·ï¼Œæ— èƒŒæ™¯ -->
        <div class="spirit-text" id="spiritDisplay">âœ¨ ç²¾ç¥ä½“ Â· è—ç‹</div>

        <div class="story" id="storyText">ä½ ä¹ æƒ¯ç‹¬è‡ªç”Ÿé•¿ï¼Œåœ¨æ— äººçœ‹è§çš„åœ°æ–¹æ·±æ·±æ‰æ ¹ã€‚</div>
        <div class="quote" id="quoteText">â€œå…¶å®äººè·Ÿæ ‘æ˜¯ä¸€æ ·çš„â€<span class="quote-author">â€”â€” å°¼é‡‡</span></div>
        <button class="reset-btn" id="resetBtn">âŸ² é‡æ–°æµ‹è¯•</button>
        <div style="margin-top:22px; color:#8b8b8b;">ä¿¡æ¯ç´ æ¯æ¬¡éšæœº Â· ç»“æœä»…ä¾›å¨±ä¹</div>
    </div>
</div>

<script>
(function() {
    // ---------- é¢˜ç›®æ•°æ® (25é¢˜) åˆ†æ•°ç»è¿‡å‡è¡¡è®¾è®¡ ----------
    const questions = [
        { text: "åœ¨ç¤¾äº¤åœºåˆä¸­ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ", options: [
            { text: "æˆä¸ºç„¦ç‚¹ï¼Œä¸»åŠ¨äº¤è°ˆ", abo: {a:3,b:0,o:0}, scent: {woody:2,spicy:2,floral:0,fruity:0,marine:0,other:0} },
            { text: "å®‰é™è§‚å¯Ÿï¼Œé€‰æ‹©æ€§å‚ä¸", abo: {a:1,b:2,o:0}, scent: {woody:2,marine:1,floral:0,fruity:0,spicy:0,other:0} },
            { text: "è·Ÿéšæœ‹å‹ï¼Œé¿å…é™Œç”Ÿäº¤æµ", abo: {a:0,b:1,o:2}, scent: {floral:2,fruity:1,woody:0,spicy:0,marine:0,other:0} },
            { text: "æ— æ‰€è°“ï¼Œçœ‹å¿ƒæƒ…", abo: {a:1,b:1,o:1}, scent: {woody:1,floral:1,fruity:1,spicy:1,marine:0,other:0} }
        ]},
        { text: "é¢å¯¹å‹åŠ›å’ŒæŒ‘æˆ˜ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ", options: [
            { text: "è¿éš¾è€Œä¸Šï¼Œå……æ»¡æ–—å¿—", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "å†·é™åˆ†æï¼Œå¯»æ‰¾å¯¹ç­–", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:1,spicy:0,floral:0,fruity:0,other:0} },
            { text: "å¯»æ±‚ä»–äººå¸®åŠ©æˆ–å®‰æ…°", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:1,woody:0,spicy:0,marine:0,other:0} },
            { text: "é€ƒé¿æˆ–æ‹–å»¶", abo: {a:1,b:1,o:1}, scent: {fruity:2,marine:1,other:1,woody:0,spicy:0,floral:0} }
        ]},
        { text: "ä½ æ›´å–œæ¬¢çš„ä¼‘é—²æ´»åŠ¨æ˜¯ï¼Ÿ", options: [
            { text: "æˆ·å¤–å†’é™©è¿åŠ¨", abo: {a:3,b:0,o:0}, scent: {woody:2,spicy:2,floral:0,fruity:0,marine:0,other:0} },
            { text: "å®‰é™çš„é˜…è¯»æˆ–å†¥æƒ³", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:1,floral:0,fruity:0,spicy:0,other:0} },
            { text: "ä¸æœ‹å‹èšä¼šèŠå¤©", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,woody:0,spicy:0,marine:0,other:0} },
            { text: "æ‰‹å·¥æˆ–è‰ºæœ¯åˆ›ä½œ", abo: {a:1,b:1,o:1}, scent: {floral:2,woody:1,other:1,fruity:0,spicy:0,marine:0} }
        ]},
        { text: "ä½ è®¤ä¸ºè‡ªå·±åœ¨å›¢é˜Ÿä¸­é€šå¸¸æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ", options: [
            { text: "é¢†å¯¼è€…ï¼Œå‘å·æ–½ä»¤", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "æ‰§è¡Œè€…ï¼Œå®Œæˆä»»åŠ¡", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:1,spicy:0,floral:0,fruity:0,other:0} },
            { text: "åè°ƒè€…ï¼Œç»´æŠ¤å’Œè°", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:1,woody:0,spicy:0,marine:0,other:0} },
            { text: "æ”¯æŒè€…ï¼Œæä¾›å¸®åŠ©", abo: {a:1,b:1,o:1}, scent: {floral:2,fruity:2,woody:0,spicy:0,marine:0,other:0} }
        ]},
        { text: "ä½ çš„æƒ…ç»ªæ³¢åŠ¨é€šå¸¸ï¼Ÿ", options: [
            { text: "éå¸¸ç¨³å®šï¼Œä¸æ˜“å—å½±å“", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,floral:0,fruity:0,spicy:0,other:0} },
            { text: "å¶å°”èµ·ä¼ï¼Œä½†èƒ½æ§åˆ¶", abo: {a:2,b:1,o:0}, scent: {woody:1,spicy:1,floral:1,fruity:0,marine:0,other:0} },
            { text: "æ•æ„Ÿå¤šå˜ï¼Œå®¹æ˜“å…±æƒ…", abo: {a:0,b:0,o:3}, scent: {floral:3,fruity:2,woody:0,spicy:0,marine:0,other:0} },
            { text: "å‹æŠ‘æƒ…ç»ªï¼Œä¸è½»æ˜“è¡¨éœ²", abo: {a:2,b:0,o:1}, scent: {spicy:2,woody:2,other:0,floral:0,fruity:0,marine:0} }
        ]},
        { text: "ä½ æ›´å–œæ¬¢å“ªç§ç±»å‹çš„ç”µå½±/ä¹¦ç±ï¼Ÿ", options: [
            { text: "åŠ¨ä½œ/å†’é™©", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "ç§‘å¹»/æ‚¬ç–‘", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:1,spicy:0,floral:0,fruity:0,other:0} },
            { text: "æµªæ¼«/çˆ±æƒ…", abo: {a:0,b:0,o:3}, scent: {floral:3,fruity:2,woody:0,spicy:0,marine:0,other:0} },
            { text: "å–œå‰§/è½»æ¾", abo: {a:1,b:1,o:1}, scent: {fruity:2,floral:1,other:1,woody:0,spicy:0,marine:0} }
        ]},
        { text: "å¯¹äºæ‹çˆ±å…³ç³»ï¼Œä½ æ›´çœ‹é‡ï¼Ÿ", options: [
            { text: "æ¿€æƒ…ä¸å¾æœ", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "å¹³ç­‰ä¸é™ªä¼´", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,floral:0,fruity:0,spicy:0,other:0} },
            { text: "è¢«å‘µæŠ¤ä¸ä¿æŠ¤", abo: {a:0,b:0,o:3}, scent: {floral:3,fruity:1,woody:0,spicy:0,marine:0,other:0} },
            { text: "è‡ªç”±ä¸ç©ºé—´", abo: {a:1,b:1,o:1}, scent: {woody:2,marine:1,spicy:0,floral:0,fruity:0,other:0} }
        ]},
        { text: "ä½ é€šå¸¸å¦‚ä½•åšå†³å®šï¼Ÿ", options: [
            { text: "å‡­ç›´è§‰ï¼Œå¿«é€Ÿæœæ–­", abo: {a:3,b:0,o:0}, scent: {spicy:2,woody:2,floral:0,fruity:0,marine:0,other:0} },
            { text: "æ”¶é›†ä¿¡æ¯ï¼Œç†æ€§åˆ†æ", abo: {a:0,b:3,o:0}, scent: {woody:3,marine:1,spicy:0,floral:0,fruity:0,other:0} },
            { text: "å‚è€ƒä»–äººæ„è§ï¼ŒçŠ¹è±«ä¸å†³", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:1,woody:0,spicy:0,marine:0} },
            { text: "éšé‡è€Œå®‰ï¼Œä¸å¤ªçº ç»“", abo: {a:1,b:1,o:1}, scent: {fruity:2,marine:2,other:0,woody:0,spicy:0,floral:0} }
        ]},
        { text: "ä½ æ›´å‘å¾€å“ªç§ç”Ÿæ´»æ–¹å¼ï¼Ÿ", options: [
            { text: "å……æ»¡æŒ‘æˆ˜å’Œç«äº‰", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "ç¨³å®šå®‰é€¸ï¼Œæœ‰è§„å¾‹", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "è‡ªç”±æµªæ¼«ï¼Œéšå¿ƒæ‰€æ¬²", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "æœåŠ¡ä»–äººï¼Œè¢«éœ€è¦", abo: {a:1,b:1,o:1}, scent: {floral:3,fruity:1,other:1,woody:0,spicy:0,marine:0} }
        ]},
        { text: "ä½ çš„æˆ¿é—´/åŠå…¬æ¡Œé€šå¸¸ï¼Ÿ", options: [
            { text: "äº•äº•æœ‰æ¡ï¼Œä¸€åˆ‡å½’ä½", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "ä¹±ä¸­æœ‰åºï¼Œè‡ªå·±æ‰¾å¾—åˆ°", abo: {a:2,b:1,o:0}, scent: {spicy:2,woody:1,other:1,floral:0,fruity:0,marine:0} },
            { text: "éšå¿ƒæ‰€æ¬²ï¼Œç»å¸¸å‡Œä¹±", abo: {a:0,b:0,o:3}, scent: {fruity:2,floral:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "æç®€é£æ ¼ï¼Œå¾ˆå°‘ç‰©å“", abo: {a:1,b:1,o:1}, scent: {marine:2,woody:2,spicy:0,floral:0,fruity:0,other:0} }
        ]},
        { text: "ä½ æ›´å–œæ¬¢åƒå“ªç§å£å‘³çš„é£Ÿç‰©ï¼Ÿ", options: [
            { text: "è¾›è¾£åˆºæ¿€ï¼ˆéº»è¾£ç«é”…ï¼‰", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "æ¸…æ·¡åŸå‘³ï¼ˆæ¸…è’¸ï¼‰", abo: {a:0,b:3,o:0}, scent: {marine:2,woody:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "ç”œè…»å¯å£ï¼ˆç”œç‚¹ï¼‰", abo: {a:0,b:0,o:3}, scent: {fruity:3,floral:2,woody:0,spicy:0,marine:0,other:0} },
            { text: "æµ“éƒé†‡åšï¼ˆçº¢çƒ§è‚‰ï¼‰", abo: {a:1,b:1,o:1}, scent: {woody:2,spicy:2,other:0,floral:0,fruity:0,marine:0} }
        ]},
        { text: "é‡åˆ°é™Œç”Ÿäººï¼Œä½ çš„æ€åº¦æ˜¯ï¼Ÿ", options: [
            { text: "ä¸»åŠ¨ç»“è¯†ï¼Œæ‰©å±•äººè„‰", abo: {a:3,b:0,o:0}, scent: {spicy:2,fruity:1,other:0,woody:0,floral:0,marine:0} },
            { text: "ç¤¼è²Œå®¢æ°”ï¼Œä¿æŒè·ç¦»", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "å®³ç¾å†…å‘ï¼Œç­‰å¾…å¯¹æ–¹ä¸»åŠ¨", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "è§‚å¯Ÿåˆ¤æ–­ï¼Œå†å†³å®šå¦‚ä½•äº¤å¾€", abo: {a:1,b:1,o:1}, scent: {woody:2,spicy:1,other:1,marine:0,floral:0,fruity:0} }
        ]},
        { text: "ä½ æ›´æ“…é•¿å¤„ç†å“ªç§ç±»å‹çš„å·¥ä½œï¼Ÿ", options: [
            { text: "ç«äº‰æ€§å¼ºçš„é¡¹ç›®", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "éœ€è¦ç»†è‡´è€å¿ƒçš„ä»»åŠ¡", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "ä¸äººæ²Ÿé€šåè°ƒçš„èŒä½", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "åˆ›æ„æ€§è‰ºæœ¯ç±»å·¥ä½œ", abo: {a:1,b:1,o:1}, scent: {floral:2,fruity:2,woody:1,other:1,spicy:0,marine:0} }
        ]},
        { text: "ä½ è®¤ä¸ºè‡ªå·±æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ï¼Ÿ", options: [
            { text: "å‹‡æ•¢æœæ–­", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "ç¨³é‡å¯é ", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "æ¸©æŸ”ä½“è´´", abo: {a:0,b:0,o:3}, scent: {floral:3,fruity:1,other:0,woody:0,spicy:0,marine:0} },
            { text: "èªæ˜æœºæ™º", abo: {a:1,b:1,o:1}, scent: {woody:1,spicy:1,marine:1,other:1,floral:0,fruity:0} }
        ]},
        { text: "ä½ æ›´å®¹æ˜“è¢«å“ªç§äººå¸å¼•ï¼Ÿ", options: [
            { text: "å¼ºå¤§è‡ªä¿¡çš„é¢†å¯¼è€…", abo: {a:3,b:0,o:0}, scent: {spicy:2,woody:2,floral:0,fruity:0,marine:0,other:0} },
            { text: "æ¸©å’ŒåŒ…å®¹çš„é™ªä¼´è€…", abo: {a:0,b:3,o:0}, scent: {floral:2,marine:2,woody:0,spicy:0,fruity:0,other:0} },
            { text: "éœ€è¦è¢«å‘µæŠ¤çš„æŸ”è½¯å†…å¿ƒ", abo: {a:0,b:0,o:3}, scent: {fruity:2,floral:2,other:1,woody:0,spicy:0,marine:0} },
            { text: "ç¥ç§˜ç‹¬ç«‹çš„æ°”è´¨å‹", abo: {a:1,b:1,o:1}, scent: {woody:2,spicy:1,marine:1,other:1,floral:0,fruity:0} }
        ]},
        { text: "ä½ å¹³æ—¶è¯´è¯çš„éŸ³é‡ï¼Ÿ", options: [
            { text: "æ´ªäº®æœ‰åŠ›", abo: {a:3,b:0,o:0}, scent: {spicy:2,woody:1,other:0,floral:0,fruity:0,marine:0} },
            { text: "é€‚ä¸­å¹³å’Œ", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "è½»æŸ”ç»†å°", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "æ ¹æ®åœºåˆè°ƒæ•´", abo: {a:1,b:1,o:1}, scent: {woody:1,floral:1,fruity:1,spicy:1,marine:1,other:2} }
        ]},
        { text: "ä½ å¯¹æœªæ¥çš„è§„åˆ’ï¼Ÿ", options: [
            { text: "ç›®æ ‡æ˜ç¡®ï¼Œé‡å¿ƒå‹ƒå‹ƒ", abo: {a:3,b:0,o:0}, scent: {spicy:3,woody:1,floral:0,fruity:0,marine:0,other:0} },
            { text: "æŒ‰éƒ¨å°±ç­ï¼Œç¨³ä¸­æ±‚è¿›", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "éšé‡è€Œå®‰ï¼Œäº«å—å½“ä¸‹", abo: {a:0,b:0,o:3}, scent: {fruity:2,floral:2,other:1,woody:0,spicy:0,marine:0} },
            { text: "å¤šç§å¯èƒ½ï¼Œçµæ´»è°ƒæ•´", abo: {a:1,b:1,o:1}, scent: {woody:1,marine:1,spicy:1,other:2,floral:0,fruity:0} }
        ]},
        { text: "ä½ æ›´å–œæ¬¢å“ªç§åŠ¨ç‰©ï¼Ÿ", options: [
            { text: "ç‹¼", abo: {a:3,b:0,o:0}, scent: {spicy:2,woody:2,floral:0,fruity:0,marine:0,other:0} },
            { text: "é¹¿", abo: {a:0,b:3,o:0}, scent: {woody:2,marine:1,other:1,spicy:0,floral:0,fruity:0} },
            { text: "çŒ«", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "æµ·è±š", abo: {a:1,b:1,o:1}, scent: {marine:3,fruity:1,other:1,woody:0,spicy:0,floral:0} }
        ]},
        { text: "ä½ å¯¹æ°”å‘³çš„åå¥½ï¼Ÿ", options: [
            { text: "æµ“éƒå¼ºçƒˆçš„é¦™å‘³", abo: {a:2,b:1,o:0}, scent: {spicy:3,woody:2,floral:0,fruity:0,marine:0,other:0} },
            { text: "æ¸…æ·¡è‡ªç„¶çš„å‘³é“", abo: {a:0,b:2,o:1}, scent: {marine:2,woody:2,spicy:0,floral:0,fruity:0,other:0} },
            { text: "ç”œç¾å¯çˆ±çš„é¦™æ°”", abo: {a:0,b:1,o:2}, scent: {fruity:3,floral:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "ç‰¹åˆ«çš„å‘³é“ï¼ˆå¦‚æ—§ä¹¦ã€é›¨åï¼‰", abo: {a:1,b:1,o:1}, scent: {other:4,woody:1,floral:0,fruity:0,spicy:0,marine:0} }
        ]},
        { text: "ä½ å›å¿†å¾€äº‹æ—¶ï¼Œæ›´å®¹æ˜“æƒ³èµ·ï¼Ÿ", options: [
            { text: "è‡ªå·±å–å¾—æˆå°±çš„æ—¶åˆ»", abo: {a:3,b:0,o:0}, scent: {spicy:2,woody:2,other:0,floral:0,fruity:0,marine:0} },
            { text: "ä¸æœ‹å‹å…±åº¦çš„æ¸©é¦¨æ—¶å…‰", abo: {a:0,b:3,o:0}, scent: {floral:2,fruity:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "è¢«ä»–äººå…³å¿ƒå¸®åŠ©çš„ç¬é—´", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:1,woody:0,spicy:0,marine:0} },
            { text: "ç‹¬è‡ªæ€è€ƒå’Œæ¢ç´¢çš„ç»å†", abo: {a:1,b:1,o:1}, scent: {woody:2,marine:2,other:1,spicy:0,floral:0,fruity:0} }
        ]},
        { text: "ä½ æ›´å–œæ¬¢å“ªç§å­£èŠ‚ï¼Ÿ", options: [
            { text: "å¤å¤©", abo: {a:2,b:1,o:0}, scent: {spicy:2,fruity:2,other:1,woody:0,floral:0,marine:0} },
            { text: "å†¬å¤©", abo: {a:0,b:2,o:1}, scent: {woody:2,marine:2,other:0,spicy:0,floral:0,fruity:0} },
            { text: "æ˜¥å¤©", abo: {a:0,b:1,o:2}, scent: {floral:3,fruity:1,other:0,woody:0,spicy:0,marine:0} },
            { text: "ç§‹å¤©", abo: {a:1,b:1,o:1}, scent: {woody:2,spicy:1,fruity:1,other:1,floral:0,marine:0} }
        ]},
        { text: "å¦‚æœå¯ä»¥é€‰æ‹©è¶…èƒ½åŠ›ï¼Œä½ æƒ³è¦ï¼Ÿ", options: [
            { text: "å¼ºå¤§åŠ›é‡/æ§åˆ¶åŠ›", abo: {a:3,b:0,o:0}, scent: {spicy:2,woody:2,other:0,floral:0,fruity:0,marine:0} },
            { text: "å¿ƒçµæ„Ÿåº”/è¯»å¿ƒæœ¯", abo: {a:0,b:3,o:0}, scent: {marine:2,floral:2,other:1,woody:0,spicy:0,fruity:0} },
            { text: "éšèº«/æ²»æ„ˆ", abo: {a:0,b:0,o:3}, scent: {floral:2,fruity:2,other:1,woody:0,spicy:0,marine:0} },
            { text: "é¢„çŸ¥æœªæ¥/æ—¶é—´æ“æ§", abo: {a:1,b:1,o:1}, scent: {woody:2,spicy:1,marine:1,other:2,floral:0,fruity:0} }
        ]},
        // ç¬¬23é¢˜ æ–°å¢
        { text: "ä½ èµ°è¿›ä¸€é—´å±‹å­ï¼Œæœ€å…ˆæ³¨æ„åˆ°çš„æ˜¯ä»€ä¹ˆå‘³é“ï¼Ÿ", options: [
            { text: "åˆšå‡ºç‚‰çš„é¢åŒ…é¦™", abo: {a:1,b:1,o:1}, scent: {fruity:2,floral:2,other:0,woody:0,spicy:0,marine:0} },
            { text: "ä¸€è‚¡è¯´ä¸æ¸…çš„ç‰¹åˆ«å‘³å„¿", abo: {a:1,b:1,o:1}, scent: {other:3,woody:1,spicy:1,floral:0,fruity:0,marine:0} },
            { text: "æ·¡æ·¡çš„æ±½æ²¹å‘³", abo: {a:1,b:1,o:1}, scent: {other:3,spicy:1,woody:1,floral:0,fruity:0,marine:0} },
            { text: "æ—§ä¹¦å’Œçº¸å¼ çš„å‘³é“", abo: {a:1,b:1,o:1}, scent: {other:3,woody:2,floral:0,fruity:0,spicy:0,marine:0} }
        ]},
        // ç¬¬24é¢˜ æ–°å¢
        { text: "å¦‚æœå¿…é¡»ç”¨ä¸€ç§å‘³é“å½¢å®¹ä½ çš„äººç”Ÿï¼Œä½ å¸Œæœ›æ˜¯ï¼Ÿ", options: [
            { text: "ç”œèœœèœœçš„æ°´èœœæ¡ƒ", abo: {a:1,b:1,o:1}, scent: {fruity:3,floral:1,other:0,woody:0,spicy:0,marine:0} },
            { text: "åˆºæ¿€çš„è‡­è±†è…", abo: {a:1,b:1,o:1}, scent: {other:4,spicy:1,woody:0,floral:0,fruity:0,marine:0} },
            { text: "æ²‰ç¨³çš„æ—§ä¹¦çº¸å¢¨å‘³", abo: {a:1,b:1,o:1}, scent: {other:3,woody:2,spicy:0,floral:0,fruity:0,marine:0} },
            { text: "æ¸…æ–°çš„æµ·é£", abo: {a:1,b:1,o:1}, scent: {marine:3,other:1,woody:0,spicy:0,floral:0,fruity:0} }
        ]},
        // ç¬¬25é¢˜ æ–°å¢
        { text: "ä½ è§‰å¾—è‡ªå·±åœ¨æœ‹å‹çœ¼ä¸­æ›´åƒä»€ä¹ˆï¼Ÿ", options: [
            { text: "æ°¸è¿œé è°±çš„ç‘å£«å†›åˆ€", abo: {a:2,b:1,o:0}, scent: {woody:2,other:2,spicy:1,floral:0,fruity:0,marine:0} },
            { text: "å¶å°”ææ€ªçš„å“ˆå£«å¥‡", abo: {a:0,b:1,o:2}, scent: {other:3,fruity:2,floral:1,woody:0,spicy:0,marine:0} },
            { text: "ç¥ç§˜åˆé…·é…·çš„æ”¹è£…è½¦", abo: {a:2,b:0,o:1}, scent: {other:3,spicy:2,woody:1,floral:0,fruity:0,marine:0} },
            { text: "è½¯ä¹ä¹çš„æŠ±æ•", abo: {a:0,b:2,o:1}, scent: {floral:2,fruity:2,other:1,woody:0,spicy:0,marine:0} }
        ]}
    ];

    // ---------- æ°”å‘³åº“ ----------
    const scentLibrary = {
        woody:   ['é›ªæ¾', 'æª€é¦™', 'æ¾æœ¨', 'æŸæœ¨', 'æ²‰é¦™'],
        floral:  ['ç«ç‘°', 'èŒ‰è‰', 'è–°è¡£è‰', 'æ©™èŠ±', 'æ €å­èŠ±'],
        fruity:  ['æŸ‘æ©˜', 'è‹¹æœ', 'èœœæ¡ƒ', 'è‰è“', 'è è'],
        spicy:   ['è‚‰æ¡‚', 'èƒ¡æ¤’', 'ç”Ÿå§œ', 'è±†è”»', 'ä¸é¦™'],
        marine:  ['æµ·é£', 'è‡­æ°§', 'æµ·æ°´', 'è¥¿ç“œé…®', 'é¾™æ¶é¦™'],
        other:   ['è‡­è±†è…', 'æ¦´è²', 'é…¸èœ', 'æ±½æ²¹', 'é“é”ˆ', 'çº¸å¼ ', 'æ—§ä¹¦', 'é›¨åæ³¥åœŸ', 'åœ°ä¸‹è½¦åº“', 'æœºæ²¹']
    };

    const aboMap = { alpha: 'Alpha', beta: 'Beta', omega: 'Omega' };
    const scentMap = { woody: 'æœ¨è´¨', floral: 'èŠ±é¦™', fruity: 'æœé¦™', spicy: 'è¾›é¦™', marine: 'æµ·æ´‹', other: 'å…¶ä»–å‘³é“' };

    // ---------- äººç‰©å°ä¼ &å“²æ€çŸ­å¥&ç²¾ç¥ä½“ ----------
    const storyMap = {
        alpha: {
            woody:   "ä½ ä¹ æƒ¯ç‹¬è‡ªç”Ÿé•¿ï¼Œåœ¨æ— äººçœ‹è§çš„åœ°æ–¹æ·±æ·±æ‰æ ¹ã€‚ä½ ä¸ä¾èµ–å¤–ç•Œçš„æ¸©åº¦ï¼Œåªç›¸ä¿¡è„šä¸‹çš„åœŸåœ°å’Œè‡ªå·±çš„å¹´è½®ã€‚",
            floral:  "ä½ ä»ä¸éšè—è‡ªå·±çš„é”‹èŠ’ï¼Œä¹Ÿä¸ä»‹æ„è¢«äººçœ‹è§ã€‚ä½ çŸ¥é“çœŸæ­£çš„åŠ›é‡ä¸æ˜¯å‹å€’ä¸€åˆ‡ï¼Œè€Œæ˜¯æ•¢äºåœ¨ä»»ä½•åœŸå£¤é‡Œç»½æ”¾ã€‚",
            fruity:  "ä½ ç›¸ä¿¡è¡ŒåŠ¨èƒœäºè¨€è¯­ï¼Œç»“æœè¯æ˜ä¸€åˆ‡ã€‚ä¸è§£é‡Šï¼Œä¸æŠ±æ€¨ï¼ŒåªæŠŠè¯¥åšçš„äº‹æƒ…åšåˆ°æè‡´ã€‚",
            spicy:   "ä½ çš„å­˜åœ¨æœ¬èº«å°±æœ‰æ¸©åº¦ï¼Œä¸éœ€è¦åˆ»æ„ç‡ƒçƒ§ä¹Ÿèƒ½è®©äººæ„ŸçŸ¥ã€‚ä½ èµ°åœ¨è‡ªå·±çš„èŠ‚å¥é‡Œï¼Œä¸ç–¾ä¸å¾ï¼Œå´ä»ä¸åç¦»æ–¹å‘ã€‚",
            marine:  "ä½ ä¹ æƒ¯ç‹¬è‡ªé¢å¯¹é£æµªï¼Œä¹Ÿæ‡‚å¾—åœ¨å¹³é™æ—¶ç§¯è“„åŠ›é‡ã€‚ä½ çœ‹ä¼¼æ²‰é»˜ï¼Œä½†æ¯ä¸€æ¬¡æ½®èµ·éƒ½æœ‰ä½ çš„æ–¹å‘ã€‚",
            other:   "ä½ çš„å‘³é“ä¸å¤ªä¸€æ ·â€”â€”æœ‰äººè¯´æ˜¯æ—§ä¹¦åº—çš„å‘³é“ï¼Œæœ‰äººè¯´æ˜¯é›¨åæ“åœºçš„å‘³é“ï¼Œè¿˜æœ‰äººè¯´æ˜¯è€å®¶è¡£æŸœé‡Œæ¨Ÿæœ¨çš„å‘³é“ã€‚ä½ ä»ä¸åˆ»æ„æ©ç›–ï¼Œä¹Ÿä¸è´¹å¿ƒè§£é‡Šã€‚åæ¥ä½ å‘ç°ï¼Œé‚£äº›æ„¿æ„å‡‘è¿‘äº†é—»æ¸…æ¥šçš„äººï¼Œæœ€åéƒ½æˆäº†ä½ æœ€é“çš„ä¼™ä¼´ã€‚"
        },
        beta: {
            woody:   "ä½ ä¸äº‰ä¸æŠ¢ï¼Œå´å§‹ç»ˆåœ¨é‚£é‡Œã€‚ä½ çŸ¥é“è‡ªå·±çš„ä½ç½®ï¼Œä¹Ÿå°Šé‡åˆ«äººçš„è¾¹ç•Œã€‚ç¨³å®šæ˜¯ä½ çš„åº•è‰²ï¼Œå¯é æ˜¯ä½ çš„æ ‡ç­¾ã€‚",
            floral:  "ä½ ä¸å¿…æˆä¸ºç„¦ç‚¹ï¼Œä½†ä¹Ÿä¸ä¼šæ¶ˆå¤±åœ¨äººæµ·ã€‚ä½ ç›¸ä¿¡å­˜åœ¨æœ¬èº«å°±æœ‰æ„ä¹‰ï¼Œä¸å¿…è¢«çœ‹è§ï¼Œä¹Ÿæ— éœ€è¢«è¯æ˜ã€‚",
            fruity:  "ä½ æ“…é•¿åœ¨æ—¥å¸¸é‡Œæ‰¾åˆ°è‡ªå·±çš„èŠ‚å¥ï¼Œä¸ç–¾ä¸å¾ï¼Œåˆšåˆšå¥½ã€‚ä½ ä¸è¿½æ±‚è½°è½°çƒˆçƒˆï¼Œä½†æ¯ä¸€æ­¥éƒ½èµ°å¾—è¸å®ã€‚",
            spicy:   "ä½ ä¸å¼ æ‰¬ï¼Œä½†ä¹Ÿä¸å¹³åº¸ã€‚ä½ æ‡‚å¾—åœ¨åˆé€‚çš„æ—¶æœºå‡ºç°ï¼Œåœ¨éœ€è¦çš„æ—¶å€™å‘å…‰ã€‚ä½ çš„å­˜åœ¨ï¼Œæ˜¯è®¸å¤šäººå®‰å¿ƒçš„ç†ç”±ã€‚",
            marine:  "ä½ åŒ…å®¹ï¼Œä½†ä¸è½¯å¼±ï¼›éšå’Œï¼Œä½†ä¸ç›²ä»ã€‚ä½ çœ‹ä¼¼éšæ³¢é€æµï¼Œå…¶å®ä¸€ç›´åœ¨è‡ªå·±çš„èˆªé“é‡Œã€‚",
            other:   "ä½ æ˜¯äººç¾¤é‡Œçš„â€œç‰¹åˆ«æ¬¾â€â€”â€”èº«ä¸Šæ€»æœ‰è‚¡è®©äººæƒ³å¤šé—»ä¸¤ä¸‹çš„å‘³é“ã€‚æœ‰äººè¯´æ˜¯åˆšæ‹†å°çš„æ¼«ç”»ä¹¦ï¼Œæœ‰äººè¯´æ˜¯å‚æ™šçš„çƒ§çƒ¤æ‘Šï¼Œè¿˜æœ‰äººåšç§°æ˜¯å¤–å©†å®¶çš„å‘³é“ã€‚ä½ ä¸åˆ»æ„è®¨å¥½è°çš„é¼»å­ï¼Œä¹Ÿä¸ä¸ºè‡ªå·±çš„å‘³é“æŠ±æ­‰ã€‚"
        },
        omega: {
            woody:   "ä½ çœ‹èµ·æ¥æŸ”è½¯ï¼Œå´æœ‰ä¸æ˜“æŠ˜æ–­çš„éŸ§æ€§ã€‚ä½ ä¸å¯¹æŠ—é£æš´ï¼Œä½†é£æš´è¿‡åï¼Œä½ æ€»åœ¨é‚£é‡Œã€‚",
            floral:  "ä½ æ•æ„Ÿï¼Œä½†ä¸è„†å¼±ã€‚ä½ æ¯”å¤§å¤šæ•°äººæ›´æ—©å¯Ÿè§‰ä¸–ç•Œçš„æ¸©åº¦ï¼Œä¹Ÿæ›´èƒ½ç†è§£ä»–äººçš„æ²‰é»˜ã€‚",
            fruity:  "ä½ ä¸äº‰é”‹ï¼Œä½†æœ‰è‡ªå·±çš„åšæŒã€‚ä½ çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥æŸ”è½¯ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç«™ç«‹ã€‚",
            spicy:   "ä½ çœ‹èµ·æ¥éœ€è¦è¢«ä¿æŠ¤ï¼Œå…¶å®æ—©å°±å­¦ä¼šäº†è‡ªå·±æ’‘ä¼ã€‚ä½ çš„ç»†è…»ï¼Œæ˜¯ä½ æœ€é”‹åˆ©çš„æ­¦å™¨ã€‚",
            marine:  "ä½ ä¹ æƒ¯å€¾å¬ï¼Œä¹Ÿæ‡‚å¾—å›åº”ã€‚ä½ ä¸æ€¥ç€è¡¨è¾¾è‡ªå·±ï¼Œä½†è¯¥è¯´è¯çš„æ—¶å€™ï¼Œä»ä¸ç¼ºå¸­ã€‚",
            other:   "ä½ çš„å‘³é“æœ‰ç‚¹ç‰¹åˆ«â€”â€”åƒé›¨åçš„é’è‰ï¼Œåƒæ™’è¿‡çš„æ£‰è¢«ï¼Œåƒç¿»å¼€ä¸€æœ¬æ—§ä¹¦æ—¶çš„ç¬¬ä¸€å£æ°”ã€‚ä¸æ˜¯æ‰€æœ‰äººéƒ½èƒ½ç«‹åˆ»é€‚åº”ï¼Œä½†ä¸€æ—¦å–œæ¬¢ä¸Šï¼Œå°±å†ä¹Ÿå¿˜ä¸æ‰ã€‚"
        }
    };

    const quoteMap = {
        alpha: {
            woody:   { text: "å…¶å®äººè·Ÿæ ‘æ˜¯ä¸€æ ·çš„ï¼Œè¶Šæ˜¯å‘å¾€é«˜å¤„çš„é˜³å…‰ï¼Œå®ƒçš„æ ¹å°±è¶Šè¦ä¼¸å‘é»‘æš—çš„åœ°åº•ã€‚", author: "å°¼é‡‡ã€ŠæŸ¥æ‹‰å›¾æ–¯ç‰¹æ‹‰å¦‚æ˜¯è¯´ã€‹" },
            floral:  { text: "ç«ç‘°å³ä½¿ä¸å«ç«ç‘°ï¼Œä¹Ÿä¼šä¾ç„¶èŠ¬èŠ³ã€‚", author: "èå£«æ¯”äºšã€Šç½—å¯†æ¬§ä¸æœ±ä¸½å¶ã€‹" },
            fruity:  { text: "ä¸–ç•Œä¸Šåªæœ‰ä¸€ç§çœŸæ­£çš„è‹±é›„ä¸»ä¹‰ï¼Œé‚£å°±æ˜¯åœ¨è®¤æ¸…ç”Ÿæ´»çœŸç›¸ä¹‹åä¾ç„¶çƒ­çˆ±ç”Ÿæ´»ã€‚", author: "ç½—æ›¼Â·ç½—å…°" },
            spicy:   { text: "å‡¡ä¸èƒ½æ¯ç­æˆ‘çš„ï¼Œå¿…ä½¿æˆ‘æ›´å¼ºå¤§ã€‚", author: "å°¼é‡‡" },
            marine:  { text: "äººå¯ä»¥è¢«æ¯ç­ï¼Œä½†ä¸å¯ä»¥è¢«æ‰“è´¥ã€‚", author: "æµ·æ˜å¨ã€Šè€äººä¸æµ·ã€‹" },
            other:   { text: "æ°”å‘³è¿™äº‹å„¿å§ï¼Œå°±åƒæˆ‘è¿™ä¸ªäººâ€”â€”å–œæ¬¢çš„ç‰¹åˆ«å–œæ¬¢ï¼Œgetä¸åˆ°çš„ä¹Ÿæ­£å¸¸ã€‚", author: "ä½šå" }
        },
        beta: {
            woody:   { text: "å²å¯’ï¼Œç„¶åçŸ¥æ¾æŸä¹‹åå‡‹ä¹Ÿã€‚", author: "ã€Šè®ºè¯­Â·å­ç½•ã€‹" },
            floral:  { text: "è‹”èŠ±å¦‚ç±³å°ï¼Œä¹Ÿå­¦ç‰¡ä¸¹å¼€ã€‚", author: "è¢æšã€Šè‹”ã€‹" },
            fruity:  { text: "äººé—´æœ‰å‘³æ˜¯æ¸…æ¬¢ã€‚", author: "è‹è½¼" },
            spicy:   { text: "çˆ±åœ¨å·¦ï¼ŒåŒæƒ…åœ¨å³ï¼Œéšæ—¶æ’’ç§ï¼Œéšæ—¶å¼€èŠ±ã€‚", author: "å†°å¿ƒ" },
            marine:  { text: "æµ·çº³ç™¾å·ï¼Œæœ‰å®¹ä¹ƒå¤§ã€‚", author: "æ—åˆ™å¾" },
            other:   { text: "ä¼—ç”Ÿçš†æœ‰è‡ªå·±çš„å‘³é“ï¼Œä½ çš„æ˜¯é—»è¿‡å°±å¿˜ä¸æ‰çš„é‚£ç§ã€‚", author: "ä½šå" }
        },
        omega: {
            woody:   { text: "è’²è‹‡éŸ§å¦‚ä¸ï¼Œç£çŸ³æ— è½¬ç§»ã€‚", author: "ã€Šå­”é›€ä¸œå—é£ã€‹" },
            floral:  { text: "åªæœ‰ç”¨å¿ƒçµæ‰èƒ½çœ‹å¾—æ¸…äº‹ç‰©æœ¬è´¨ã€‚", author: "åœ£åŸƒå…‹è‹ä½©é‡Œã€Šå°ç‹å­ã€‹" },
            fruity:  { text: "ä¸‡ç‰©çš†æœ‰è£‚ç—•ï¼Œé‚£æ˜¯å…‰ç…§è¿›æ¥çš„åœ°æ–¹ã€‚", author: "ç§‘æ©" },
            spicy:   { text: "å¿ƒæœ‰çŒ›è™ï¼Œç»†å—…è”·è–‡ã€‚", author: "è¨æ¾" },
            marine:  { text: "æ—¶é—´æ˜¯å¸¦èµ°æˆ‘çš„æ²³æµï¼Œä½†æˆ‘å³æ˜¯æ²³æµã€‚", author: "åšå°”èµ«æ–¯" },
            other:   { text: "æœ‰äº›äººåƒæ°”å‘³ä¸€æ ·ï¼Œéœ€è¦æ—¶é—´æ‰èƒ½æ‡‚ã€‚", author: "ä½šå" }
        }
    };

    // ç²¾ç¥ä½“åº“ (æ¯ç±»ä¸‰ä¸ªåŠ¨ç‰©)
    const spiritMap = {
        alpha: {
            woody:   ['ç‹¼', 'é›„é¹°', 'æ£•ç†Š'],
            floral:  ['ç‹®å­', 'å­”é›€', 'å‡¤å‡°'],
            fruity:  ['çŒ›è™', 'è±¹å­', 'èœœç¾'],
            spicy:   ['çŠ€ç‰›', 'é‡é©¬', 'é›ªè±¹'],
            marine:  ['è™é²¸', 'å¤§ç™½é²¨', 'æµ·é›•'],
            other:   ['è—ç‹', 'ç™½é²¸', 'å°ç†ŠçŒ«']
        },
        beta: {
            woody:   ['é¹¿', 'å¤§è±¡', 'æ ‘æ‡’'],
            floral:  ['è´è¶', 'é¹¦é¹‰', 'ç‡•å­'],
            fruity:  ['æ¾é¼ ', 'æµ£ç†Š', 'ç‹ç‹¸'],
            spicy:   ['çŒ«å¤´é¹°', 'ç¾šç¾Š', 'å²©ç¾Š'],
            marine:  ['æµ·è±š', 'æµ·é¾Ÿ', 'æµ·ç‹®'],
            other:   ['æµ£ç†Š', 'æ°´è±š', 'ç¾Šé©¼']
        },
        omega: {
            woody:   ['çŒ«', 'ç†ŠçŒ«', 'è€ƒæ‹‰'],
            floral:  ['å…”', 'å°é¹¿', 'ç»µç¾Š'],
            fruity:  ['åˆºçŒ¬', 'ä»“é¼ ', 'å°é¸Ÿ'],
            spicy:   ['ç‹ç‹¸', 'æ°´ç­', 'é›ªè²‚'],
            marine:  ['æ°´æ¯', 'æµ·ç­', 'ä¼é¹…'],
            other:   ['åˆºçŒ¬', 'ç‹ç´', 'é¾™çŒ«']
        }
    };

    const aboIcon = { alpha: 'ğŸ‘‘', beta: 'ğŸŒ¿', omega: 'ğŸŒ¸' };
    const scentIcon = { woody: 'ğŸŒ²', floral: 'ğŸŒ¹', fruity: 'ğŸ', spicy: 'ğŸ”¥', marine: 'ğŸŒŠ', other: 'ğŸ’¨' };

    // ---------- é¢„è®¡ç®—æ¯ä¸ªç±»å‹çš„æœ€å¤§å¯èƒ½å¾—åˆ† (ç”¨äºå½’ä¸€åŒ–) ----------
    function computeMaxScores() {
        let maxABO = { alpha: 0, beta: 0, omega: 0 };
        let maxScent = { woody: 0, floral: 0, fruity: 0, spicy: 0, marine: 0, other: 0 };

        questions.forEach(q => {
            let qMaxABO = { alpha: 0, beta: 0, omega: 0 };
            let qMaxScent = { woody: 0, floral: 0, fruity: 0, spicy: 0, marine: 0, other: 0 };
            q.options.forEach(opt => {
                qMaxABO.alpha = Math.max(qMaxABO.alpha, opt.abo.a || 0);
                qMaxABO.beta = Math.max(qMaxABO.beta, opt.abo.b || 0);
                qMaxABO.omega = Math.max(qMaxABO.omega, opt.abo.o || 0);
                qMaxScent.woody   = Math.max(qMaxScent.woody, opt.scent.woody || 0);
                qMaxScent.floral  = Math.max(qMaxScent.floral, opt.scent.floral || 0);
                qMaxScent.fruity  = Math.max(qMaxScent.fruity, opt.scent.fruity || 0);
                qMaxScent.spicy   = Math.max(qMaxScent.spicy, opt.scent.spicy || 0);
                qMaxScent.marine  = Math.max(qMaxScent.marine, opt.scent.marine || 0);
                qMaxScent.other   = Math.max(qMaxScent.other, opt.scent.other || 0);
            });
            maxABO.alpha += qMaxABO.alpha;
            maxABO.beta += qMaxABO.beta;
            maxABO.omega += qMaxABO.omega;
            maxScent.woody += qMaxScent.woody;
            maxScent.floral += qMaxScent.floral;
            maxScent.fruity += qMaxScent.fruity;
            maxScent.spicy += qMaxScent.spicy;
            maxScent.marine += qMaxScent.marine;
            maxScent.other += qMaxScent.other;
        });
        return { maxABO, maxScent };
    }

    const { maxABO, maxScent } = computeMaxScores();

    function weightedRandom(weights) {
        let total = 0;
        for (let key in weights) total += weights[key];
        if (total <= 0) {
            const keys = Object.keys(weights);
            return keys[Math.floor(Math.random() * keys.length)];
        }
        let r = Math.random() * total;
        for (let key in weights) {
            if (r < weights[key]) return key;
            r -= weights[key];
        }
        return Object.keys(weights)[0];
    }

    // ---------- çŠ¶æ€ ----------
    let selected = new Array(questions.length).fill(null);

    // DOM
    const landingPage = document.getElementById('landingPage');
    const quizCard = document.getElementById('quizCard');
    const resultCard = document.getElementById('resultCard');
    const questionsContainer = document.getElementById('questionsContainer');
    const submitBtn = document.getElementById('submitBtn');
    const resetBtn = document.getElementById('resetBtn');
    const enterBtn = document.getElementById('enterTestBtn');
    const aboResultSpan = document.getElementById('aboResult');
    const scentResultSpan = document.getElementById('scentResult');
    const spiritDisplay = document.getElementById('spiritDisplay');
    const storyText = document.getElementById('storyText');
    const quoteText = document.getElementById('quoteText');
    const resultIcons = document.getElementById('resultIcons');

    enterBtn.addEventListener('click', () => {
        landingPage.classList.add('hidden');
        quizCard.classList.remove('hidden');
    });

    function renderQuestions() {
        let html = '';
        questions.forEach((q, idx) => {
            html += `<div class="question-item" style="--q-index: ${idx};">`;
            html += `<div><span class="q-num">${idx+1}</span><span class="q-text">${q.text}</span></div>`;
            html += `<div class="options">`;
            q.options.forEach((opt, optIdx) => {
                const letter = String.fromCharCode(65 + optIdx);
                const isSelected = (selected[idx] === optIdx);
                const selectedClass = isSelected ? 'selected' : '';
                html += `<button class="option-btn ${selectedClass}" data-q="${idx}" data-opt="${optIdx}">${letter}. ${opt.text}</button>`;
            });
            html += `</div></div>`;
        });
        questionsContainer.innerHTML = html;
    }
    renderQuestions();

    questionsContainer.addEventListener('click', (e) => {
        const btn = e.target.closest('.option-btn');
        if (!btn) return;
        const qIdx = btn.dataset.q;
        const optIdx = btn.dataset.opt;
        if (qIdx===undefined || optIdx===undefined) return;
        const parentDiv = btn.closest('.question-item');
        parentDiv.querySelectorAll('.option-btn').forEach(opt => opt.classList.remove('selected'));
        btn.classList.add('selected');
        selected[parseInt(qIdx)] = parseInt(optIdx);
    });

    submitBtn.addEventListener('click', () => {
        const missing = selected.reduce((acc, val, idx) => val===null ? acc.concat(idx+1) : acc, []);
        if (missing.length > 0) {
            const warn = document.createElement('div');
            warn.className = 'toast-warning';
            warn.innerText = `âš  è¿˜æœ‰ ${missing.length} é¢˜æœªé€‰ (${missing.join(', ')})`;
            quizCard.prepend(warn);
            setTimeout(() => warn.remove(), 3500);
            return;
        }

        let aboScore = { alpha:0, beta:0, omega:0 };
        let scentScore = { woody:0, floral:0, fruity:0, spicy:0, marine:0, other:0 };

        for (let i=0; i<questions.length; i++) {
            const opt = questions[i].options[selected[i]];
            aboScore.alpha += opt.abo.a || 0;
            aboScore.beta  += opt.abo.b || 0;
            aboScore.omega += opt.abo.o || 0;
            scentScore.woody  += opt.scent.woody  || 0;
            scentScore.floral += opt.scent.floral || 0;
            scentScore.fruity += opt.scent.fruity || 0;
            scentScore.spicy  += opt.scent.spicy  || 0;
            scentScore.marine += opt.scent.marine || 0;
            scentScore.other  += opt.scent.other  || 0;
        }

        // å½’ä¸€åŒ–æƒé‡
        const normABO = {
            alpha: aboScore.alpha / (maxABO.alpha || 1),
            beta:  aboScore.beta  / (maxABO.beta  || 1),
            omega: aboScore.omega / (maxABO.omega || 1)
        };
        const normScent = {
            woody:   scentScore.woody   / (maxScent.woody   || 1),
            floral:  scentScore.floral  / (maxScent.floral  || 1),
            fruity:  scentScore.fruity  / (maxScent.fruity  || 1),
            spicy:   scentScore.spicy   / (maxScent.spicy   || 1),
            marine:  scentScore.marine  / (maxScent.marine  || 1),
            other:   scentScore.other   / (maxScent.other   || 1)
        };

        const aboKey = weightedRandom(normABO);
        const scentKey = weightedRandom(normScent);

        const concreteArr = scentLibrary[scentKey];
        const concrete = concreteArr[Math.floor(Math.random() * concreteArr.length)];
        const spiritArr = spiritMap[aboKey][scentKey];
        const spirit = spiritArr[Math.floor(Math.random() * spiritArr.length)];

        aboResultSpan.innerText = aboMap[aboKey];
        scentResultSpan.innerText = `${scentMap[scentKey]} Â· ${concrete}`;
        // ç²¾ç¥ä½“æ˜¾ç¤ºåœ¨ç‹¬ç«‹è¡Œï¼Œç²—ä½“å°ä¸¤å·
        spiritDisplay.innerText = `âœ¨ ç²¾ç¥ä½“ Â· ${spirit}`;
        storyText.innerText = storyMap[aboKey][scentKey];   // ä¸å†åŒ…å«ç²¾ç¥ä½“
        const quote = quoteMap[aboKey][scentKey];
        quoteText.innerHTML = `â€œ${quote.text}â€<span class="quote-author">â€”â€” ${quote.author}</span>`;

        resultIcons.innerText = `${aboIcon[aboKey]} ${scentIcon[scentKey]}`;

        quizCard.classList.add('hidden');
        resultCard.classList.remove('hidden');
    });

    resetBtn.addEventListener('click', () => {
        selected.fill(null);
        renderQuestions();
        resultCard.classList.add('hidden');
        quizCard.classList.remove('hidden');
    });
})();
</script>
</body>
</html>